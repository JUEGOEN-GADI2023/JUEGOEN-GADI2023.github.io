<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tabla del 5</title>
    <link rel="stylesheet" href=".css">
<style>
  .opcion {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 70px;
    height: 70px;
    border-radius: 50%;
    background-color: #007bff;
    color: #fff;
    font-size: 25px;
    margin: 5px;
    cursor: pointer;
    transition: background-color 0.9s ease;
  }

  .opcion:hover {
    background-color: #0056b3;
  }
.pre{
    font-size: 50px;
}
.p{
    font-size: 30px;
}

.seg{
    font-size: 30px;
}

  body{
    background-image: url('5.jpg');
      background-repeat: no-repeat;
      background-size: cover;
  
  }
  input[type="number"] {
      padding: 0.5rem;
      font-size: 1rem;
      border-radius: 0.25rem;
      border: 1px solid #ccc;
      margin-right: 0.5rem;
  
  }
  
  input{
    border-radius: 15px;
    height: 35px;
    width: 250px;
    text-align: center;
    border: px solid #39c;
   
    
  }
  button {
      padding: 1rem 2rem;
      font-size: 2rem;
      border-radius: 0.25rem;
      border: none;
      background-color: #a1a639;
      color: #fff;
      cursor: pointer;
      margin-top: 1rem;
      border-radius: 15px;
      font-family: 'Nunito';
  }
  button:hover {
      background-color: #3029c6;
  }
  
  
  *{
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Nunito';
      
    }
    section {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      animation: animate 10s linear infinite;
     
    }
    @keyframes animate{
      0%{
        filter: hue-rotate(0deg)
      }
      100%{
        filter: hue-rotate(360deg)
      }
    
    
    
    }
    
    
    
    label{
      color: #7eb3cc;
     } 
    
     
    .box{
      position: relative;
      padding: 50px;
      width: 444px;
      height: 650px;
      display: flex;
      justify-content: center;
      align-items: center;
      background: rgba(255, 255, 255, 0.404);
      border-radius: 6px;
      box-shadow: 0 5px 35px rgba(0, 0, 0, 0.445)
    }
    .box::after{
      content: '';
      position: absolute;
      top: 5px;
      left: 5px;
      right: 5px;
      bottom: 5px;
      border-radius: 5px;
      pointer-events: none;
      background: linear-gradient(to bottom, rgba(255, 253, 253, 0.156) 0%,
      rgba(255, 255, 255, 0.105) 15%, transparent 50%, transparent 85%, rgba(255,255,255,0.3) 100%)
    }
    .box .seccion{
      position: relative;
      width: 100%;
    }
    .box .form h1{
      color: #070707;
      font-weight: 600;
      letter-spacing: 2px;
      margin-bottom: 30px;
      font-size: 40px;
      font-family: "Spongeboy Me Bob";
    }
    .box .form .inputBx{
      position: relative;
      width: 100%;
      margin-bottom: 20px;
    }
    .box .form .inputBx input{
      width: 100%;
      outline: none;
      border: 1px solid rgba(255,255,255,0.2);
      background: transparent;
      padding: 8px 10px;
      padding-left: 15px;
      border-radius: 6px;
      color: #fff;
      font-size: 16px;
      font-weight: 300;
      box-shadow: inset 0 0 25px rgba(0,0,0,0.2);
    }
    .box .form .inputBx input::placeholder{
      color: #fff;
    }
    .box .form .inputBx input[type='submit']{
      background: #fff;
      color: #111;
      max-width: 100px;
      padding: 8px 10px;
      box-shadow: none;
      font-weight: 500;
      letter-spacing: 1px;
      cursor: pointer;
    }
    .remember{
      position: relative;
      display: inline-block;
      color: #fff;
      font-weight: 300;
      margin-bottom: 10px;
      cursor: pointer;
    }
    .box .form p{
      color: #0a0a0a;
      font-weight: 300;
      font-size: 25px;
      margin-top: 5px;
      font-family: "Spongeboy Me Bob";
    }
    .box .form a{
      color: #fff;
    }

    

    .opciones {
        display: flex;
        justify-content: center;
    }
   
    #cronometro {
        font-size: 36px;
        margin-top: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    #bomba {
        width: 100px;
        height: 100px;
        display: none;
    }
    #errores {
        font-size: 20px;
        color: red;
        margin-top: 20px;
        display: none;
    }
    #respuestas-correctas {
        font-size: 20px;
        color: green;
        margin-top: 10px;
        display: none;
    }
    #reiniciar-btn{
        font-size: 24px;
        background-color: #007bff;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        margin-top: 20px;
        cursor: pointer;
        display: none;
    }
    #finalizado-msg {
        font-size: 24px;
        margin-top: 20px;
        display: none;
    }
    .tabla-multiplicar {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        margin-top: 20px;
        font-size: 30px;
    }
    .tabla-multiplicar div {
        width: 48%;
        margin-bottom: 10px;
    }
    .respuesta-correcta {
        background-color: green;
        color: white;
       border-radius: 5px;
    }
    

    .container-operacion{
        font-size: 30px;

    }
p{
    font-size: 45px;
}
.re{
  top: 5px;
left: 5px;
  width: 50px;
  height: 50px;
  justify-content: center;
  align-items: center;
  display: flex;
  justify-content: center;
  margin-top: 0.5rem;
}
</style>
  </head>
<body>

<section  class="form-register">
   
    <div class="box">
      <div class="form">
        <center>
            <div class="color">
                <h1>Cuento es:</h1>
                <div id="tableSelect">
                 <button id="iniciar" botonIniciar.style.display = "none";>Iniciar</button>  <br>
                  <div class="pre" id="preguntas"></div> 
                  <div class="m"  id="opciones"></div><br>
                  <div class="p" id="tiempo">Tiempo restante: 45</div>
                  
                  <div id="seg"></div> <br>
                  <div id="restartButtonContainer" style="display: none;">
                    <br>  <button id="restartButton">Reiniciar Juego</button>
                  </div>
                </div>
              </div>
              
   
        
            <br>    <div class="re">
            <a href="fondo5.html">
                <img class="re" src="re.png" alt=""> <br>
             </a>
             Regresar
             <a  href="inicio.html">
                <img class="re" src="ini.png" alt=""> <br>
            </a>
           Inicio
            </div>
            
          </div>
         
          </center>
  
      </div>
   
  
  </section>



  <script> 
  let tablaActual = 5;
let multiplicadorActual = 1;
let temporizador = 50;
let intervalo;
let respuestasCorrectas = 0;
let respuestasIncorrectas = 0;

const botonIniciar = document.getElementById("iniciar");
const elementoPregunta = document.getElementById("preguntas");
const elementoOpciones = document.getElementById("opciones");
const elementoTemporizador = document.getElementById("tiempo");
const elementoPuntaje = document.getElementById("seg");
const botonReiniciar = document.getElementById("restartButton");
const contenedorBotonReiniciar = document.getElementById("restartButtonContainer");


botonIniciar.addEventListener("click", iniciarJuego);
botonReiniciar.addEventListener("click", reiniciarJuego);

function iniciarJuego() {
  botonIniciar.disabled = true;
  contenedorBotonReiniciar.style.display = "none";
  elementoTemporizador.textContent = `Tiempo restante: ${temporizador}`;
  intervalo = setInterval(actualizarTemporizador,1000);
  respuestasCorrectas = 0;
  respuestasIncorrectas = 0;
  generarSiguientePregunta();
  botonIniciar.disabled = true;
  botonIniciar.style.display = "none"; 
  contenedorBotonReiniciar.style.display = "none";
}

function reiniciarJuego() {
    clearInterval(intervalo);
    botonIniciar.disabled = false;
    contenedorBotonReiniciar.style.display = "none";
    elementoPregunta.textContent = "";
    elementoOpciones.innerHTML = "";
    elementoTemporizador.textContent = `Tiempo restante: ${temporizador}`;
    elementoPuntaje.textContent = "";
    multiplicadorActual = 1;
    respuestasCorrectas = 0;
    respuestasIncorrectas = 0;
    clearInterval(intervalo);
    botonIniciar.disabled = false;
    contenedorBotonReiniciar.style.display = "none";
    
    location.reload(); 
  }

function generarSiguientePregunta() {
  if (temporizador > 0) {
    const resultado = tablaActual * multiplicadorActual;
    elementoPregunta.textContent = `${tablaActual} x ${multiplicadorActual} = ?`;

    const opciones = generarOpcionesAleatoriasOrdenadas(resultado);
    mezclarArray(opciones);

    elementoOpciones.innerHTML = "";
    for (let i = 0; i < opciones.length; i++) {
      const opcion = document.createElement("div");
      opcion.className = "opcion";
      opcion.textContent = opciones[i];
      opcion.addEventListener("click", () => verificarRespuesta(opcion.textContent, resultado));
      elementoOpciones.appendChild(opcion);
    }
  } else {
    clearInterval(intervalo);
    elementoPregunta.textContent = "¡Se acabó el tiempo!";
    elementoOpciones.innerHTML = "";
    elementoPuntaje.textContent = `Respuestas correctas: ${respuestasCorrectas}, Respuestas incorrectas: ${respuestasIncorrectas}`;
    contenedorBotonReiniciar.style.display = "block";
  }
}

function generarOpcionesAleatoriasOrdenadas(respuestaCorrecta) {
  const opciones = [respuestaCorrecta];
  while (opciones.length < 4) {
    const opcionAleatoria = respuestaCorrecta + Math.floor(Math.random() * 10) + 1;
    if (!opciones.includes(opcionAleatoria)) {
      opciones.push(opcionAleatoria);
    }
  }
  return opciones;
}

function mezclarArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
}

function verificarRespuesta(respuestaSeleccionada, respuestaCorrecta) {
  if (parseInt(respuestaSeleccionada) === respuestaCorrecta) {
    multiplicadorActual++;
    respuestasCorrectas++;
    generarSiguientePregunta();
  } else {
    respuestasIncorrectas++;
    generarSiguientePregunta();
  }
}

function actualizarTemporizador() {
  temporizador--;
  elementoTemporizador.textContent = `Tiempo restante: ${temporizador}\n`;
  generarSiguientePregunta();
}
  </script>
</body>
</html>
